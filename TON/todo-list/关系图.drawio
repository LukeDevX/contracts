<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36" version="24.7.12">
  <diagram name="第 1 页" id="gUo7AyztCSZrGGtEmUlQ">
    <mxGraphModel dx="1189" dy="1361" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="PEz4gZGzKeV8I1mcfDbC-1" value="&lt;font face=&quot;Times New Roman&quot;&gt;TodoParent&lt;/font&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;owner&lt;br&gt;numTodos 任务数&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;init(owner)&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; text-wrap: nowrap;&quot;&gt;添加任务（NewTodo）&lt;/span&gt;&lt;font face=&quot;Times New Roman&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;任务标记为已完成（CompleteTodo）&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; text-wrap: nowrap;&quot;&gt;|&lt;br&gt;fun 返回当前任务总数numTodos()&lt;br&gt;fun 根据序号返回子合约地址todoAdress(int)&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" vertex="1" parent="1">
          <mxGeometry x="600" y="-110" width="270" height="150" as="geometry" />
        </mxCell>
        <mxCell id="PEz4gZGzKeV8I1mcfDbC-8" value="&lt;p style=&quot;text-align: left; text-wrap: nowrap; margin: 0in; font-size: 10.5pt; color: rgb(98, 114, 164);&quot;&gt;//&amp;nbsp;&lt;span style=&quot;font-family: &amp;quot;Microsoft YaHei&amp;quot;;&quot;&gt;定义一个消息结构，用于接收新待办任务的请求&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: left; text-wrap: nowrap; margin: 0in; font-size: 10.5pt; color: rgb(98, 114, 164);&quot;&gt;&lt;span style=&quot;font-family: Consolas; font-size: 10.5pt; background-color: initial; color: rgb(255, 121, 198);&quot;&gt;message&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Consolas; font-size: 10.5pt; background-color: initial; font-style: italic; color: rgb(100, 167, 182);&quot;&gt;NewTodo&lt;/span&gt;&lt;span style=&quot;font-family: Consolas; font-size: 10.5pt; background-color: initial; color: rgb(151, 151, 147);&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: left; text-wrap: nowrap; margin: 0in; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;font-family: Consolas;&quot;&gt;&amp;nbsp; &amp;nbsp; task&lt;/span&gt;&lt;span style=&quot;font-family: Consolas;&quot;&gt;:&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-style: italic; font-family: Consolas;&quot;&gt;String&lt;/span&gt;&lt;span style=&quot;font-family: Consolas; color: rgb(151, 151, 147);&quot;&gt;;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Consolas; color: rgb(98, 114, 164);&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(98, 114, 164);&quot;&gt;任务的描述&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: left; text-wrap: nowrap; margin: 0in; font-family: Consolas; font-size: 10.5pt; color: rgb(151, 151, 147);&quot;&gt;}&lt;/p&gt;&lt;br style=&quot;text-align: left; text-wrap: nowrap;&quot;&gt;&lt;p style=&quot;text-align: left; text-wrap: nowrap; margin: 0in; font-size: 10.5pt; color: rgb(98, 114, 164);&quot;&gt;//&amp;nbsp;&lt;span style=&quot;font-family: &amp;quot;Microsoft YaHei&amp;quot;;&quot;&gt;定义新待办任务创建成功后的响应消息，返回任务的序列号（&lt;/span&gt;&lt;span style=&quot;font-family: Consolas;&quot;&gt;seqno&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Microsoft YaHei&amp;quot;;&quot;&gt;）&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: left; text-wrap: nowrap; margin: 0in; font-family: Consolas; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;color: rgb(255, 121, 198);&quot;&gt;message&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-style: italic; color: rgb(100, 167, 182);&quot;&gt;NewTodoResponse&lt;/span&gt;&lt;span style=&quot;color: rgb(151, 151, 147);&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: left; text-wrap: nowrap; margin: 0in; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;font-family: Consolas;&quot;&gt;&amp;nbsp; &amp;nbsp; seqno&lt;/span&gt;&lt;span style=&quot;font-family: Consolas;&quot;&gt;:&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-style: italic; font-family: Consolas;&quot;&gt;Int&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Consolas; color: rgb(255, 121, 198);&quot;&gt;as&lt;br&gt;&amp;nbsp; &amp;nbsp; uint256&lt;/span&gt;&lt;span style=&quot;font-family: Consolas; color: rgb(151, 151, 147);&quot;&gt;;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Consolas; color: rgb(98, 114, 164);&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(98, 114, 164);&quot;&gt;使用&lt;/span&gt;&lt;span style=&quot;font-family: Consolas;&quot;&gt;&amp;nbsp;uint256&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Microsoft YaHei&amp;quot;;&quot;&gt;类型表示任务序列号&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: left; text-wrap: nowrap; margin: 0in; font-family: Consolas; font-size: 10.5pt; color: rgb(151, 151, 147);&quot;&gt;}&lt;/p&gt;&lt;br style=&quot;text-align: left; text-wrap: nowrap;&quot;&gt;&lt;p style=&quot;text-align: left; text-wrap: nowrap; margin: 0in; font-size: 10.5pt; color: rgb(98, 114, 164);&quot;&gt;//&amp;nbsp;&lt;span style=&quot;font-family: &amp;quot;Microsoft YaHei&amp;quot;;&quot;&gt;定义用于标记任务完成的消息，包含任务序列号&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: left; text-wrap: nowrap; margin: 0in; font-family: Consolas; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;color: rgb(255, 121, 198);&quot;&gt;message&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-style: italic; color: rgb(100, 167, 182);&quot;&gt;CompleteTodo&lt;/span&gt;&lt;span style=&quot;color: rgb(151, 151, 147);&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: left; text-wrap: nowrap; margin: 0in; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;font-family: Consolas;&quot;&gt;&amp;nbsp; &amp;nbsp; seqno&lt;/span&gt;&lt;span style=&quot;font-family: Consolas;&quot;&gt;:&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-style: italic; font-family: Consolas;&quot;&gt;Int&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Consolas; color: rgb(255, 121, 198);&quot;&gt;as&lt;br&gt;&amp;nbsp; &amp;nbsp; uint256&lt;/span&gt;&lt;span style=&quot;font-family: Consolas; color: rgb(151, 151, 147);&quot;&gt;;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Consolas; color: rgb(98, 114, 164);&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(98, 114, 164);&quot;&gt;完成的任务序号&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: left; text-wrap: nowrap; margin: 0in; font-family: Consolas; font-size: 10.5pt; color: rgb(151, 151, 147);&quot;&gt;}&lt;/p&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" vertex="1" parent="1">
          <mxGeometry x="-56" y="-120" width="470" height="300" as="geometry" />
        </mxCell>
        <mxCell id="PEz4gZGzKeV8I1mcfDbC-9" value="&lt;p style=&quot;margin:0in;font-size:10.5pt;color:#6272A4&quot;&gt;&lt;span style=&quot;font-family:&lt;br/&gt;Consolas&quot;&gt;// &lt;/span&gt;&lt;span style=&quot;font-family:&amp;quot;Microsoft YaHei&amp;quot;&quot;&gt;定义一个消息，用于设置任务数据&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-family:Consolas;font-size:10.5pt&quot;&gt;&lt;span style=&quot;color:#FF79C6&quot;&gt;message &lt;/span&gt;&lt;span style=&quot;font-style:italic;color:#64A7B6&quot;&gt;InternalSetTask&lt;/span&gt;&lt;span style=&quot;color:#979793&quot;&gt; {&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-size:10.5pt&quot;&gt;&lt;span style=&quot;font-family:Consolas;&lt;br/&gt;color:#979793&quot;&gt;&amp;nbsp; &amp;nbsp; task&lt;/span&gt;&lt;span style=&quot;font-family:Consolas;&lt;br/&gt;color:#FF79C6&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;font-style:italic;font-family:Consolas;&lt;br/&gt;color:#64A7B6&quot;&gt;String&lt;/span&gt;&lt;span style=&quot;font-family:Consolas;color:#979793&quot;&gt;;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family:Consolas;color:#6272A4&quot;&gt;// &lt;/span&gt;&lt;span style=&quot;font-family:&amp;quot;Microsoft YaHei&amp;quot;;color:#6272A4&quot;&gt;任务描述&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-family:Consolas;font-size:10.5pt;color:#979793&quot;&gt;}&lt;/p&gt;&lt;p style=&quot;margin:0in;font-size:10.5pt;color:#6272A4&quot;&gt;&lt;span style=&quot;font-family:&lt;br/&gt;Consolas&quot;&gt;// &lt;/span&gt;&lt;span style=&quot;font-family:&amp;quot;Microsoft YaHei&amp;quot;&quot;&gt;定义一个消息，用于标记任务完成，并传递多余的资金&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-family:Consolas;font-size:10.5pt&quot;&gt;&lt;span style=&quot;color:#FF79C6&quot;&gt;message &lt;/span&gt;&lt;span style=&quot;font-style:italic;color:#64A7B6&quot;&gt;InternalComplete&lt;/span&gt;&lt;span style=&quot;color:#979793&quot;&gt; {&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-size:10.5pt&quot;&gt;&lt;span style=&quot;font-family:Consolas;&lt;br/&gt;color:#979793&quot;&gt;&amp;nbsp; &amp;nbsp; excess&lt;/span&gt;&lt;span style=&quot;font-family:Consolas;&lt;br/&gt;color:#FF79C6&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;font-style:italic;font-family:Consolas;&lt;br/&gt;color:#64A7B6&quot;&gt;Address&lt;/span&gt;&lt;span style=&quot;font-family:Consolas;color:#979793&quot;&gt;;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family:Consolas;color:#6272A4&quot;&gt;// &lt;/span&gt;&lt;span style=&quot;font-family:&amp;quot;Microsoft YaHei&amp;quot;;color:#6272A4&quot;&gt;用于退还多余资金的地址&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-family:Consolas;font-size:10.5pt;color:#979793&quot;&gt;}&lt;/p&gt;&lt;p style=&quot;margin:0in;font-size:10.5pt;color:#6272A4&quot;&gt;&lt;span style=&quot;font-family:&lt;br/&gt;Consolas&quot;&gt;// &lt;/span&gt;&lt;span style=&quot;font-family:&amp;quot;Microsoft YaHei&amp;quot;&quot;&gt;定义任务详情的结构，包括任务描述和完成状态&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-family:Consolas;font-size:10.5pt&quot;&gt;&lt;span style=&quot;color:#FF79C6&quot;&gt;struct &lt;/span&gt;&lt;span style=&quot;font-style:italic;color:#64A7B6&quot;&gt;TodoDetails&lt;/span&gt;&lt;span style=&quot;color:#979793&quot;&gt; {&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-size:10.5pt&quot;&gt;&lt;span style=&quot;font-family:Consolas;&lt;br/&gt;color:#979793&quot;&gt;&amp;nbsp; &amp;nbsp; task&lt;/span&gt;&lt;span style=&quot;font-family:Consolas;&lt;br/&gt;color:#FF79C6&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;font-style:italic;font-family:Consolas;&lt;br/&gt;color:#64A7B6&quot;&gt;String&lt;/span&gt;&lt;span style=&quot;font-family:Consolas;color:#979793&quot;&gt;;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family:Consolas;color:#6272A4&quot;&gt;// &lt;/span&gt;&lt;span style=&quot;font-family:&amp;quot;Microsoft YaHei&amp;quot;;color:#6272A4&quot;&gt;任务描述&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-size:10.5pt&quot;&gt;&lt;span style=&quot;font-family:Consolas;&lt;br/&gt;color:#979793&quot;&gt;&amp;nbsp; &amp;nbsp; completed&lt;/span&gt;&lt;span style=&quot;font-family:Consolas;&lt;br/&gt;color:#FF79C6&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;font-style:italic;font-family:Consolas;&lt;br/&gt;color:#64A7B6&quot;&gt;Bool&lt;/span&gt;&lt;span style=&quot;font-family:Consolas;color:#979793&quot;&gt;;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family:Consolas;color:#6272A4&quot;&gt;// &lt;/span&gt;&lt;span style=&quot;font-family:&amp;quot;Microsoft YaHei&amp;quot;;color:#6272A4&quot;&gt;是否完成&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-size:10.5pt&quot;&gt;&lt;span style=&quot;color: rgb(151, 151, 147); font-family: Consolas;&quot;&gt;}&lt;/span&gt;&lt;/p&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;align=left;" vertex="1" parent="1">
          <mxGeometry x="-60" y="530" width="420" height="240" as="geometry" />
        </mxCell>
        <mxCell id="PEz4gZGzKeV8I1mcfDbC-10" value="&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;;&quot;&gt;TodoChild&lt;/span&gt;&lt;br&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;div&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; background-color: initial;&quot;&gt;parent 父合约地址&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;text-align: center;&quot; face=&quot;Times New Roman&quot;&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;seqno 编号&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;task 任务描述&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;completed 任务状态&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;init(parent, seqno)&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;接收父合约的任务设置消息（InternalSetTask）&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; text-wrap: nowrap; background-color: initial;&quot;&gt;接收父合约的&lt;/span&gt;&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;标记完成&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; text-wrap: nowrap; background-color: initial;&quot;&gt;消息&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;（InternalComplete）&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;|&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;font face=&quot;Times New Roman&quot;&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;fun 返回当前任务详情details()，TodoDetails&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" vertex="1" parent="1">
          <mxGeometry x="570" y="520" width="270" height="170" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
